{"ast":null,"code":"var _jsxFileName = \"/Users/uthaya/ourjourneys/src/components/ProjectList/ProjectList.js\";\nimport React, { Component, useState } from \"react\";\nimport { TweenLite, gsap } from \"gsap\";\nimport { Draggable } from \"gsap/Draggable\";\nimport { InertiaPlugin } from \"gsap/InertiaPlugin\";\nimport image1 from \"./image-1.jpg\";\nimport image2 from \"./image-2.jpg\";\nimport image3 from \"./image-3.jpg\";\nimport image4 from \"./image-4.jpg\";\nimport image5 from \"./tokyo.jpg\";\nimport image6 from \"./berlin.jpg\";\nimport image7 from \"./osaka.jpg\";\nimport image8 from \"./seoul.jpg\";\nimport image9 from \"./pekin.jpg\";\nimport image10 from \"./shanghai.jpg\";\nimport image11 from \"./xian.jpg\";\nimport image12 from \"./guilin.jpg\";\nimport image13 from \"./toronto.jpg\";\nimport image14 from \"./sanfrancisco.jpg\";\nimport image15 from \"./venise.jpg\";\nimport image16 from \"./milan.jpg\";\nimport image17 from \"./pise.jpg\";\nimport image18 from \"./pompei.jpeg\";\nimport image19 from \"./naples.jpg\";\nimport \"./ProjectList.scss\";\ngsap.registerPlugin(Draggable, InertiaPlugin);\nconst containerId = \"imageContainer\";\nconst containerSelector = \"#\" + containerId;\nconst rowClass = \"row\";\nconst rowSelector = \".\" + rowClass;\nconst imageClass = \"sliderImage\";\nconst imageSelector = \".\" + imageClass;\nconst imgURLArray = [{\n  src: image1,\n  class: \"Irlande\",\n  titre: \"Dublin\"\n}, {\n  src: image2,\n  class: \"Royaume Unis\",\n  titre: \"Londres\"\n}, {\n  src: image3,\n  class: \"Italie\",\n  titre: \"Rome\"\n}, {\n  src: image4,\n  class: \"Italie\",\n  titre: \"Florence\"\n}, {\n  src: image5,\n  class: \"Japon\",\n  titre: \"Tokyo\"\n}, {\n  src: image6,\n  class: \"Allemagne\",\n  titre: \"Berlin\"\n}, {\n  src: image7,\n  class: \"Japon\",\n  titre: \"Osaka\"\n}, {\n  src: image8,\n  class: \"CorÃ©e du Sud\",\n  titre: \"Seoul\"\n}, {\n  src: image9,\n  class: \"Chine\",\n  titre: \"Pekin\"\n}, {\n  src: image10,\n  class: \"Chine\",\n  titre: \"Shanghai\"\n}, {\n  src: image11,\n  class: \"Chine\",\n  titre: \"Xi'an\"\n}, {\n  src: image12,\n  class: \"Chine\",\n  titre: \"Guilin\"\n}, {\n  src: image13,\n  class: \"Canada\",\n  titre: \"Toronto\"\n}, {\n  src: image14,\n  class: \"USA\",\n  titre: \"San Francisco\"\n}, {\n  src: image15,\n  class: \"Italie\",\n  titre: \"Venise\"\n}, {\n  src: image16,\n  class: \"Italie\",\n  titre: \"Milan\"\n}, {\n  src: image17,\n  class: \"Italie\",\n  titre: \"Pise\"\n}, {\n  src: image18,\n  class: \"Italie\",\n  titre: \"Pompeii\"\n}, {\n  src: image19,\n  class: \"Italie\",\n  titre: \"Naples\"\n}];\nconst imgURLArrayLength = imgURLArray ? imgURLArray.length : -1;\nconst rowNum = 10;\nconst imgNum = 30;\nconst useInertia = true;\nconst useCenterGrid = true;\nlet rows, imgMidIndex, rowMidIndex;\nconst rowArray = [];\nconst imgRep = [];\nlet boxWidth, boxHeight, gutter, horizSpacing, vertSpacing, horizOffset, vertOffset, winMidX, winMidY, lastCenteredElem;\n\nclass projectList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onFilterChange = newFilter => {\n      if (newFilter === '*') {\n        this.setStyles();\n      } else {\n        this.setStyles(newFilter);\n      }\n\n      this.resize();\n    };\n\n    this.centerGrid = () => {\n      let bcr = lastCenteredElem.getBoundingClientRect();\n      let midX = bcr.x + bcr.width / 2;\n      let midY = bcr.y + bcr.height / 2;\n      let x = winMidX - midX;\n      let y = winMidY - midY;\n      gsap.to(containerSelector, {\n        ease: \"sine.inOut\",\n        duration: 0.7,\n        x: \"+=\" + x,\n        y: \"+=\" + y\n      });\n    };\n\n    this.updateCenterElem = () => {\n      let elems = document.elementsFromPoint(winMidX, winMidY);\n      elems.forEach(elem => {\n        if (elem.matches(imageSelector) && !lastCenteredElem.isSameNode(elem)) {\n          lastCenteredElem = elem;\n          this.checkPositions(lastCenteredElem);\n        }\n      });\n    };\n\n    this.myRef = React.createRef();\n    this.onFilterChange = this.onFilterChange.bind(this);\n    this.state = {\n      show: false,\n      titre: true\n    };\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  init() {\n    gsap.set(containerSelector, {\n      willChange: \"transform\"\n    });\n    this.createImageGrid();\n    this.createMask();\n    lastCenteredElem = document.querySelectorAll(imageSelector)[(rowMidIndex - 1) * imgNum + imgMidIndex];\n    this.createDraggable();\n    this.setStyles();\n    this.resize();\n    window.addEventListener(\"resize\", this.resize);\n  }\n\n  moveArrayIndex(array, oldIndex, newIndex) {\n    if (newIndex >= array.length) {\n      newIndex = array.length - 1;\n    }\n\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n    return array;\n  }\n\n  checkPositions(elem) {\n    let rowIndex = -1,\n        imgIndex = -1;\n    imgRep.forEach((row, i) => {\n      row.forEach((img, j) => {\n        if (elem.isSameNode(img)) {\n          rowIndex = i;\n          imgIndex = j;\n        }\n      });\n    });\n    if (rowIndex === -1) return;\n\n    if (rowIndex < rowMidIndex) {\n      for (let i = rowIndex; i < rowMidIndex; i++) {\n        let rowY = gsap.getProperty(rowArray[0], \"y\");\n\n        if (rowArray.length % 2 === 1) {\n          let row = rowArray[rowArray.length - 1];\n\n          if (row.dataset.offset === \"true\") {\n            gsap.set(row, {\n              y: rowY - gutter - boxHeight,\n              x: \"+=\" + boxWidth / 2\n            });\n            row.dataset.offset = \"false\";\n          } else {\n            gsap.set(row, {\n              y: rowY - gutter - boxHeight,\n              x: \"-=\" + boxWidth / 2\n            });\n            row.dataset.offset = \"true\";\n          }\n        } else {\n          gsap.set(rowArray[rowArray.length - 1], {\n            y: rowY - gutter - boxHeight\n          });\n        }\n\n        this.moveArrayIndex(imgRep, imgRep.length - 1, 0);\n        this.moveArrayIndex(rowArray, rowArray.length - 1, 0);\n      }\n    } else if (rowIndex > rowMidIndex) {\n      for (let i = rowMidIndex; i < rowIndex; i++) {\n        let rowY = gsap.getProperty(rowArray[rowArray.length - 1], \"y\");\n\n        if (rowArray.length % 2 === 1) {\n          let row = rowArray[0];\n\n          if (row.dataset.offset === \"true\") {\n            gsap.set(row, {\n              y: rowY + gutter + boxHeight,\n              x: \"-=\" + boxWidth / 2\n            });\n            row.dataset.offset = \"false\";\n          } else {\n            gsap.set(row, {\n              y: rowY + gutter + boxHeight,\n              x: \"+=\" + boxWidth / 2\n            });\n            row.dataset.offset = \"true\";\n          }\n        } else {\n          gsap.set(rowArray[0], {\n            y: rowY + gutter + boxHeight\n          });\n        }\n\n        this.moveArrayIndex(imgRep, 0, imgRep.length - 1);\n        this.moveArrayIndex(rowArray, 0, rowArray.length - 1);\n      }\n    }\n\n    if (imgIndex < imgMidIndex) {\n      for (let rowNum = 0; rowNum < rows.length; rowNum++) {\n        let row = imgRep[rowNum];\n\n        for (let i = imgIndex; i < imgMidIndex; i++) {\n          let imgX = gsap.getProperty(row[0], \"x\");\n          gsap.set(row[row.length - 1], {\n            x: imgX - gutter - boxWidth\n          });\n          this.moveArrayIndex(row, row.length - 1, 0);\n        }\n      }\n    } else if (imgIndex > imgMidIndex) {\n      for (let rowNum = 0; rowNum < rows.length; rowNum++) {\n        let row = imgRep[rowNum];\n\n        for (let i = imgMidIndex; i < imgIndex; i++) {\n          let imgX = gsap.getProperty(row[imgNum - 1], \"x\");\n          gsap.set(row[0], {\n            x: imgX + gutter + boxWidth\n          });\n          this.moveArrayIndex(row, 0, row.length - 1);\n        }\n      }\n    }\n  }\n\n  getCenterCoords(endX, endY) {\n    return {\n      x: winMidX - endX,\n      y: winMidY - endY\n    };\n  }\n\n  createImageGrid() {\n    for (let y = 0; y < rowNum; y++) {\n      let row = document.createElement(\"div\");\n      row.className = rowClass;\n\n      for (let x = 0; x < imgNum; x++) {\n        let image = document.createElement(\"div\");\n        let link = document.createElement(\"a\");\n        let legend = document.createElement(\"div\");\n        legend.className = \"Thumb__title\";\n        link.className = \"filter-item styles__font-size-xs styles__font-family-sans-serif styles__double-border Thumb__wrapper Thumb__size-small Thumb__layout-horizontal\";\n        image.className = imageClass;\n        row.appendChild(link);\n        link.appendChild(image);\n        image.appendChild(legend);\n      }\n\n      document.querySelector(containerSelector).appendChild(row);\n      imgRep.push(gsap.utils.toArray(row.querySelectorAll(imageSelector)));\n    }\n\n    rows = document.querySelectorAll(rowSelector);\n    imgMidIndex = Math.floor(imgNum / 2);\n    rowMidIndex = Math.floor(rowNum / 2);\n  }\n\n  createMask() {\n    let mask = document.createElement(\"div\");\n    mask.className = \"mask\";\n    document.body.appendChild(mask);\n    gsap.set(mask, {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100vw\",\n      height: \"100vh\",\n      borderTop: \"25px solid\",\n      borderBottom: \"25px solid\",\n      zIndex: 9\n    });\n  }\n\n  resize() {\n    winMidX = window.innerWidth / 2;\n    winMidY = window.innerHeight / 2;\n    boxWidth = window.innerWidth * 0.35;\n    boxHeight = window.innerHeight * 0.35;\n    gutter = window.innerWidth * 0.05;\n    horizSpacing = boxWidth + gutter;\n    vertSpacing = boxHeight + gutter;\n    horizOffset = -(imgMidIndex * horizSpacing + boxWidth / 2) + winMidX;\n    vertOffset = -(rowMidIndex * vertSpacing + boxHeight / 2) + winMidY;\n    gsap.set(containerSelector, {\n      x: 0,\n      y: 0,\n      scale: 0.6\n    });\n    rows.forEach(function (row, i) {\n      gsap.set(row, {\n        attr: {\n          \"data-offset\": function () {\n            if (i % 2 === 0) return false;else return true;\n          }\n        },\n        x: function () {\n          if (i % 2 === 0) return horizOffset;else return horizOffset - boxWidth / 2;\n        },\n        y: function () {\n          return i * vertSpacing + vertOffset;\n        }\n      });\n      gsap.set(row.querySelectorAll(imageSelector), {\n        width: boxWidth,\n        height: boxHeight,\n        x: function (index) {\n          return index * horizSpacing;\n        }\n      });\n      const tl = gsap.timeline();\n      tl.from(row.querySelectorAll(imageSelector), {\n        scale: 0.2,\n        duration: Math.floor(Math.random() * 4) + 1,\n        ease: \"sine.inOut\",\n        opacity: 0\n      });\n      rowArray[i] = row;\n    });\n  }\n\n  setStyles(param) {\n    gsap.set(\"body\", {\n      margin: 0,\n      overflow: \"hidden\"\n    });\n    const randImgSize = Math.floor(Math.max(window.innerWidth, window.innerHeight) / 3);\n    gsap.set(imageSelector, {\n      backgroundImage: function (index) {\n        if (param) {\n          const newImages = imgURLArray.filter(element => element.class === param);\n          const newImagesArrayLength = newImages ? newImages.length : -1;\n          return `url(` + newImages[index % newImagesArrayLength].src + `)`;\n        } else {\n          return `url(` + imgURLArray[index % imgURLArrayLength].src + `)`;\n        }\n      },\n      position: \"absolute\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      border: \"2px solid #FFF\",\n      outline: \"1px solid #000\",\n      top: 0,\n      left: 0\n    });\n    let legend = document.querySelectorAll(imageSelector);\n\n    for (let x = 0; x < legend.length; x++) {\n      if (param) {\n        const newImages = imgURLArray.filter(element => element.class === param);\n        const newImagesArrayLength = newImages ? newImages.length : -1;\n        legend[x].dataset.pays = newImages[x % newImagesArrayLength].class;\n        legend[x].children[0].innerHTML = newImages[x % newImagesArrayLength].titre;\n      } else {\n        legend[x].dataset.pays = imgURLArray[x % imgURLArrayLength].class;\n        legend[x].children[0].innerHTML = imgURLArray[x % imgURLArrayLength].titre;\n      }\n    }\n\n    gsap.set(rowSelector, {\n      position: \"absolute\"\n    });\n  }\n\n  imgEffect(elem) {\n    gsap.to(imageSelector, {\n      duration: 1,\n      filter: \"grayscale(90%) invert(15%)\"\n    });\n    gsap.to(\"[data-pays='\" + elem + \"']\", {\n      filter: \"none\",\n      overwrite: true\n    });\n  }\n\n  imgEffectLeave() {\n    gsap.to(imageSelector, {\n      duration: 1,\n      filter: \"none\",\n      overwrite: true\n    });\n  }\n\n  createDraggable() {\n    let options = {\n      trigger: \".mask\",\n      dragResistance: 0.4,\n      resistance: 400,\n      onDrag: this.updateCenterElem,\n      onClick: e => {\n        const clicked = document.elementsFromPoint(e.pageX, e.pageY);\n        clicked.forEach(elem => {\n          if (elem.matches(\".sliderImage\")) {\n            console.log(\"to\", elem);\n          }\n        });\n      }\n    };\n\n    if (useInertia) {\n      options.inertia = true;\n      options.onThrowUpdate = this.updateCenterElem;\n\n      if (useCenterGrid) {\n        options.onThrowComplete = this.centerGrid;\n      }\n    } else if (useCenterGrid) {\n      options.onDragEnd = this.centerGrid;\n    }\n\n    document.querySelector(\".mask\").addEventListener(\"mousemove\", e => {\n      const hover = document.elementsFromPoint(e.pageX, e.pageY);\n      hover.forEach(elem => {\n        let titreVoyage = document.querySelector(\"#titreVoyage\");\n        let titreIntro = document.querySelector(\"#titreIntro\");\n\n        if (elem.matches(\".sliderImage\")) {\n          document.querySelector(\".mask\").style.cursor = \"pointer\";\n          titreVoyage.innerHTML = \"Notre visite Ã  \" + elem.innerText;\n          titreIntro.classList.add(\"hidden\");\n          titreVoyage.classList.remove(\"hidden\");\n        }\n      });\n    }, {\n      once: false\n    });\n    return Draggable.create(containerSelector, options);\n  }\n\n  render() {\n    const dragInfo = {\n      position: 'absolute',\n      bottom: '20%'\n    };\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, this.state.show ? React.createElement(\"aside\", {\n      className: \"navAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"contentAside\",\n      style: {\n        transform: \"translate3d(0px, 0%, 0px)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      className: \"\",\n      viewBox: \"0 0 12 12\",\n      onClick: () => {\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      fill: \"black\",\n      d: \"M10.6666 11.9988L11.9999 10.6655L7.33363 5.99922L11.9998 1.33307L10.6665 -0.000240447L6.00032 4.66591L1.33343 -0.000976562L0.000117558 1.33233L4.66701 5.99922L0 10.6662L1.33331 11.9995L6.00032 7.33253L10.6666 11.9988Z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    })))), React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"all\",\n      style: {\n        opacity: \"1\"\n      },\n      onClick: () => {\n        this.onFilterChange(\"*\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, \"le monde\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Irlande\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"Irlande\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"Irlande\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }, \"Irlande\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Allemagne\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"Allemagne\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"Allemagne\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, \"Allemagne\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Chine\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"Chine\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"Chine\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, \"Chine\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Canada\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"Canada\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"Canada\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, \"Canada\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"USA\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"USA\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"USA\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }, \"USA\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Japon\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"Japon\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"Japon\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506\n      },\n      __self: this\n    }, \"Japon\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Cor\\xE9e du Sud\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"CorÃ©e du Sud\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"CorÃ©e du Sud\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }, \"Cor\\xE9e du Sud\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Royaume Unis\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"Royaume Unis\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"Royaume Unis\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, \"Royaume Unis\"))), React.createElement(\"li\", {\n      className: \"listAside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-title\": \"Italie\",\n      style: {\n        opacity: \"1\"\n      },\n      onMouseOver: () => this.imgEffect(\"Italie\"),\n      onMouseOut: () => this.imgEffectLeave(),\n      onClick: () => {\n        this.onFilterChange(\"Italie\");\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }, \"Italie\")))))))) : null, React.createElement(\"nav\", {\n      className: \"navFiltre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/nous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.5s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536\n      },\n      __self: this\n    }, \"Nous\")), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.6s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538\n      },\n      __self: this\n    }, \" \"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.65s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539\n      },\n      __self: this\n    }, \"a\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.7s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, \"v\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.75s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }, \"o\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.8s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }, \"n\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.85s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543\n      },\n      __self: this\n    }, \"s\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.9s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    }, \" \"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"0.95s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545\n      },\n      __self: this\n    }, \"v\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546\n      },\n      __self: this\n    }, \"o\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.05s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547\n      },\n      __self: this\n    }, \"y\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.1s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548\n      },\n      __self: this\n    }, \"a\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.15s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549\n      },\n      __self: this\n    }, \"g\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.2s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550\n      },\n      __self: this\n    }, \"\\xE9\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.25s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551\n      },\n      __self: this\n    }, \" \"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.3s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552\n      },\n      __self: this\n    }, \"d\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.35s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, \"a\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.35s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    }, \"n\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.35s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555\n      },\n      __self: this\n    }, \"s\"), React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          show: !this.state.show\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.4s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    }, \"l\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.4s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560\n      },\n      __self: this\n    }, \"e\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.4s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561\n      },\n      __self: this\n    }, \" \"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.4s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562\n      },\n      __self: this\n    }, \"m\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.45s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563\n      },\n      __self: this\n    }, \"o\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.5s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564\n      },\n      __self: this\n    }, \"n\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.55s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565\n      },\n      __self: this\n    }, \"d\"), React.createElement(\"span\", {\n      style: {\n        transitionDelay: \"1.6s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566\n      },\n      __self: this\n    }, \"e\"))), React.createElement(\"div\", {\n      className: \"Container__wrapper Container__center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        zIndex: \"1\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Intro__wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: \"titreIntro\",\n      className: \"Heading__wrapper styles__font-size-xl styles__font-family-serif-bold Intro__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573\n      },\n      __self: this\n    }, \"Nos voyages\\uD83C\\uDFDD\"), React.createElement(\"h1\", {\n      id: \"titreVoyage\",\n      className: \"Heading__wrapper styles__font-size-xl styles__font-family-serif-bold hidden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Heading__wrapper styles__font-size-sm Intro__desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }, \"Retrouvez ici toutes les villes que nous avons visit\\xE9.\"))), React.createElement(\"div\", {\n      className: \"Container__wrapper Container__absolute Container__center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Container__wrapper Container__absolute Container__center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Heading__wrapper styles__font-size-xs\",\n      style: dragInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582\n      },\n      __self: this\n    }, \"DRAG POUR EXPLORER\"), React.createElement(\"div\", {\n      id: \"imageContainer\",\n      className: \"filter-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default projectList;","map":{"version":3,"sources":["/Users/uthaya/ourjourneys/src/components/ProjectList/ProjectList.js"],"names":["React","Component","useState","TweenLite","gsap","Draggable","InertiaPlugin","image1","image2","image3","image4","image5","image6","image7","image8","image9","image10","image11","image12","image13","image14","image15","image16","image17","image18","image19","registerPlugin","containerId","containerSelector","rowClass","rowSelector","imageClass","imageSelector","imgURLArray","src","class","titre","imgURLArrayLength","length","rowNum","imgNum","useInertia","useCenterGrid","rows","imgMidIndex","rowMidIndex","rowArray","imgRep","boxWidth","boxHeight","gutter","horizSpacing","vertSpacing","horizOffset","vertOffset","winMidX","winMidY","lastCenteredElem","projectList","constructor","props","onFilterChange","newFilter","setStyles","resize","centerGrid","bcr","getBoundingClientRect","midX","x","width","midY","y","height","to","ease","duration","updateCenterElem","elems","document","elementsFromPoint","forEach","elem","matches","isSameNode","checkPositions","myRef","createRef","bind","state","show","componentDidMount","init","set","willChange","createImageGrid","createMask","querySelectorAll","createDraggable","window","addEventListener","moveArrayIndex","array","oldIndex","newIndex","splice","rowIndex","imgIndex","row","i","img","j","rowY","getProperty","dataset","offset","imgX","getCenterCoords","endX","endY","createElement","className","image","link","legend","appendChild","querySelector","push","utils","toArray","Math","floor","mask","body","position","top","left","borderTop","borderBottom","zIndex","innerWidth","innerHeight","scale","attr","index","tl","timeline","from","random","opacity","param","margin","overflow","randImgSize","max","backgroundImage","newImages","filter","element","newImagesArrayLength","backgroundSize","backgroundPosition","border","outline","pays","children","innerHTML","imgEffect","overwrite","imgEffectLeave","options","trigger","dragResistance","resistance","onDrag","onClick","e","clicked","pageX","pageY","console","log","inertia","onThrowUpdate","onThrowComplete","onDragEnd","hover","titreVoyage","titreIntro","style","cursor","innerText","classList","add","remove","once","create","render","dragInfo","bottom","transform","setState","transitionDelay"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\n\nimport { TweenLite, gsap } from \"gsap\";\nimport { Draggable } from \"gsap/Draggable\";\nimport { InertiaPlugin } from \"gsap/InertiaPlugin\";\n\nimport image1 from \"./image-1.jpg\";\nimport image2 from \"./image-2.jpg\";\nimport image3 from \"./image-3.jpg\";\nimport image4 from \"./image-4.jpg\";\nimport image5 from \"./tokyo.jpg\";\nimport image6 from \"./berlin.jpg\";\nimport image7 from \"./osaka.jpg\";\nimport image8 from \"./seoul.jpg\";\nimport image9 from \"./pekin.jpg\";\nimport image10 from \"./shanghai.jpg\";\nimport image11 from \"./xian.jpg\";\nimport image12 from \"./guilin.jpg\";\nimport image13 from \"./toronto.jpg\";\nimport image14 from \"./sanfrancisco.jpg\";\nimport image15 from \"./venise.jpg\";\nimport image16 from \"./milan.jpg\";\nimport image17 from \"./pise.jpg\";\nimport image18 from \"./pompei.jpeg\";\nimport image19 from \"./naples.jpg\";\n\nimport \"./ProjectList.scss\";\n\ngsap.registerPlugin(Draggable, InertiaPlugin);\nconst containerId = \"imageContainer\";\nconst containerSelector = \"#\" + containerId;\nconst rowClass = \"row\"\nconst rowSelector = \".\" + rowClass;\nconst imageClass = \"sliderImage\";\nconst imageSelector = \".\" + imageClass;\nconst imgURLArray = [ {src: image1, class: \"Irlande\", titre: \"Dublin\"},\n                      {src: image2, class: \"Royaume Unis\", titre: \"Londres\"},\n                      {src: image3, class: \"Italie\", titre: \"Rome\"},\n                      {src: image4, class: \"Italie\", titre: \"Florence\"},\n                      {src: image5, class: \"Japon\", titre: \"Tokyo\"},\n                      {src: image6, class: \"Allemagne\", titre: \"Berlin\"},\n                      {src: image7, class: \"Japon\", titre: \"Osaka\"},\n                      {src: image8, class: \"CorÃ©e du Sud\", titre: \"Seoul\"},\n                      {src: image9, class: \"Chine\", titre: \"Pekin\"},\n                      {src: image10, class: \"Chine\", titre: \"Shanghai\"},\n                      {src: image11, class: \"Chine\", titre: \"Xi'an\"},\n                      {src: image12, class: \"Chine\", titre: \"Guilin\"},\n                      {src: image13, class: \"Canada\", titre: \"Toronto\"},\n                      {src: image14, class: \"USA\", titre: \"San Francisco\"},\n                      {src: image15, class: \"Italie\", titre: \"Venise\"},\n                      {src: image16, class: \"Italie\", titre: \"Milan\"},\n                      {src: image17, class: \"Italie\", titre: \"Pise\"},\n                      {src: image18, class: \"Italie\", titre: \"Pompeii\"},\n                      {src: image19, class: \"Italie\", titre: \"Naples\"},\n                    ];\nconst imgURLArrayLength = imgURLArray ? imgURLArray.length : -1;\nconst rowNum = 10;\nconst imgNum = 30;\n\nconst useInertia = true;\nconst useCenterGrid = true;\n\nlet rows,\nimgMidIndex,\nrowMidIndex;\nconst rowArray = [];\nconst imgRep = [];\n\nlet boxWidth,\nboxHeight,\ngutter,\nhorizSpacing,\nvertSpacing,\nhorizOffset,\nvertOffset,\nwinMidX,\nwinMidY,\nlastCenteredElem;\n\nclass projectList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.myRef = React.createRef();\n    this.onFilterChange = this.onFilterChange.bind(this);\n    this.state={ show:false, titre: true }\n  }\n\n  componentDidMount() {\n    this.init();\n  };\n\n  init() {\n    gsap.set(containerSelector, {willChange: \"transform\"});\n\n    this.createImageGrid();\n    this.createMask();\n    lastCenteredElem = document.querySelectorAll(imageSelector)[(rowMidIndex - 1) * imgNum + imgMidIndex];\n\n    this.createDraggable();\n\n    this.setStyles();\n\n    this.resize();\n    window.addEventListener(\"resize\", this.resize);\n  }\n\n  onFilterChange = (newFilter) => {\n    if(newFilter === '*') {\n      this.setStyles();\n    } else {\n      this.setStyles(newFilter);\n    }\n    this.resize();\n  }\n\n  moveArrayIndex(array, oldIndex, newIndex) {\n    if (newIndex >= array.length) {\n      newIndex = array.length - 1;\n    }\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n    return array;\n  }\n\n\n  checkPositions(elem) {\n    let rowIndex = -1,\n    imgIndex = -1;\n    imgRep.forEach((row, i) => {\n      row.forEach((img, j) => {\n        if(elem.isSameNode(img)) {\n          rowIndex = i;\n          imgIndex = j;\n        }\n      });\n    });\n\n    if(rowIndex === -1)\n      return;\n\n    if(rowIndex < rowMidIndex) {\n      for(let i = rowIndex; i < rowMidIndex; i++) {\n        let rowY = gsap.getProperty(rowArray[0], \"y\");\n\n        if(rowArray.length % 2 === 1) { \n          let row = rowArray[rowArray.length - 1];\n          if(row.dataset.offset === \"true\") {\n            gsap.set(row, {y: rowY - gutter - boxHeight, x: \"+=\" + boxWidth / 2});\n            row.dataset.offset = \"false\";\n          } else {\n            gsap.set(row, {y: rowY - gutter - boxHeight, x: \"-=\" + boxWidth / 2});\n            row.dataset.offset = \"true\";\n          }\n        } else { \n          gsap.set(rowArray[rowArray.length - 1], {y: rowY - gutter - boxHeight});\n        }\n\n        this.moveArrayIndex(imgRep, imgRep.length - 1, 0);\n        this.moveArrayIndex(rowArray, rowArray.length - 1, 0);\n      }\n    } else if(rowIndex > rowMidIndex) {\n      for(let i = rowMidIndex; i < rowIndex; i++) {\n        let rowY = gsap.getProperty(rowArray[rowArray.length - 1], \"y\");\n\n        if(rowArray.length % 2 === 1) {\n          let row = rowArray[0];\n          if(row.dataset.offset === \"true\") {\n            gsap.set(row, {y: rowY + gutter + boxHeight, x: \"-=\" + boxWidth / 2});\n            row.dataset.offset = \"false\";\n          } else {\n            gsap.set(row, {y: rowY + gutter + boxHeight, x: \"+=\" + boxWidth / 2});\n            row.dataset.offset = \"true\";\n          }\n        } else {\n          gsap.set(rowArray[0], {y: rowY + gutter + boxHeight});\n        }\n\n        this.moveArrayIndex(imgRep, 0, imgRep.length - 1);\n        this.moveArrayIndex(rowArray, 0, rowArray.length - 1);\n      }\n    }\n\n\n    if(imgIndex < imgMidIndex) {\n      for(let rowNum = 0; rowNum < rows.length; rowNum++) {\n        let row = imgRep[rowNum];\n\n        for(let i = imgIndex; i < imgMidIndex; i++) {\n          let imgX = gsap.getProperty(row[0], \"x\");\n\n          gsap.set(row[row.length - 1], {x: imgX - gutter - boxWidth});\n\n          this.moveArrayIndex(row, row.length - 1, 0);\n        }\n      }\n    } else if(imgIndex > imgMidIndex) {\n      for(let rowNum = 0; rowNum < rows.length; rowNum++) {\n        let row = imgRep[rowNum];\n\n        for(let i = imgMidIndex; i < imgIndex; i++) {\n          let imgX = gsap.getProperty(row[imgNum - 1], \"x\");\n\n          gsap.set(row[0], {x: imgX + gutter + boxWidth});\n\n          this.moveArrayIndex(row, 0, row.length - 1);\n        }\n      }\n    }\n  }\n\n\n  centerGrid = () => {\n    let bcr = lastCenteredElem.getBoundingClientRect();\n    let midX = bcr.x + bcr.width / 2;\n    let midY = bcr.y + bcr.height / 2;\n\n    let x = winMidX - midX;\n    let y = winMidY - midY;\n    gsap.to(containerSelector, {\n      ease: \"sine.inOut\",\n      duration: 0.7,\n      x: \"+=\" + x,\n      y: \"+=\" + y\n    });\n  }\n\n  getCenterCoords(endX, endY) {\n    return {x: winMidX - endX, y: winMidY - endY}\n  }\n\n  updateCenterElem = () => {\n    let elems = document.elementsFromPoint(winMidX, winMidY);\n\n    elems.forEach(elem => {\n      if(elem.matches(imageSelector) && !lastCenteredElem.isSameNode(elem)) {\n        lastCenteredElem = elem; \n\n        this.checkPositions(lastCenteredElem);\n      }\n    });\n  }\n\n  createImageGrid() {\n    for(let y = 0; y < rowNum; y++) {\n      let row = document.createElement(\"div\");\n      row.className = rowClass;\n      for(let x = 0; x < imgNum; x++) {\n        let image = document.createElement(\"div\");\n        let link = document.createElement(\"a\");\n        let legend = document.createElement(\"div\");\n        legend.className = \"Thumb__title\";\n        link.className = \"filter-item styles__font-size-xs styles__font-family-sans-serif styles__double-border Thumb__wrapper Thumb__size-small Thumb__layout-horizontal\";\n        image.className = imageClass;\n        row.appendChild(link);\n        link.appendChild(image);\n        image.appendChild(legend);\n      }\n      document.querySelector(containerSelector).appendChild(row);\n\n      imgRep.push(gsap.utils.toArray(row.querySelectorAll(imageSelector)));\n    }\n\n    rows = document.querySelectorAll(rowSelector);\n    imgMidIndex = Math.floor(imgNum / 2);\n    rowMidIndex = Math.floor(rowNum / 2);\n  }\n\n  createMask() {\n    let mask = document.createElement(\"div\");\n    mask.className = \"mask\";\n    document.body.appendChild(mask);\n\n    gsap.set(mask, {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100vw\",\n      height: \"100vh\",\n      borderTop: \"25px solid\",\n      borderBottom: \"25px solid\",\n      zIndex: 9,\n    });\n  }\n\n  resize() {\n    winMidX = window.innerWidth / 2;\n    winMidY = window.innerHeight / 2;\n    boxWidth = window.innerWidth * 0.35;\n    boxHeight = window.innerHeight * 0.35;\n    gutter = window.innerWidth * 0.05;\n    horizSpacing = boxWidth + gutter;\n    vertSpacing = boxHeight + gutter;\n    horizOffset = -(imgMidIndex * horizSpacing + boxWidth / 2) + winMidX;\n    vertOffset = -(rowMidIndex * vertSpacing + boxHeight / 2) + winMidY;\n\n    gsap.set(containerSelector, {x: 0, y: 0, scale: 0.6});\n\n    rows.forEach(function(row, i) {\n      gsap.set(row, {\n        attr: { \n          \"data-offset\": function() {\n            if(i % 2 === 0) return false;\n            else return true;\n          }\n        },\n        x: function() {\n          if(i % 2 === 0)\n            return horizOffset;\n          else\n            return horizOffset - boxWidth / 2;\n        },\n        y: function() {\n          return i * vertSpacing + vertOffset;\n        },\n      });\n\n      gsap.set(row.querySelectorAll(imageSelector), {\n        width: boxWidth,\n        height: boxHeight,\n        x: function(index) {\n          return index * horizSpacing;\n        }\n      });\n\n      const tl = gsap.timeline();\n\n      tl.from(row.querySelectorAll(imageSelector), {\n        scale: 0.2,\n        duration: Math.floor(Math.random() * 4) + 1,\n        ease: \"sine.inOut\",\n        opacity: 0\n      });\n\n      rowArray[i] = row;\n    });\n  }\n\n  setStyles(param) {\n    gsap.set(\"body\", {\n      margin: 0,\n      overflow: \"hidden\"\n    });\n\n    const randImgSize = Math.floor( Math.max(window.innerWidth, window.innerHeight) / 3);\n    gsap.set(imageSelector, {\n      backgroundImage: function(index) {\n        if (param) {\n          const newImages = imgURLArray.filter(element => element.class === param);\n          const newImagesArrayLength = newImages ? newImages.length : -1;\n          return `url(` + newImages[index % newImagesArrayLength].src + `)`;\n        } else {\n          return `url(` + imgURLArray[index % imgURLArrayLength].src + `)`;\n        }\n      },\n      position: \"absolute\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      border: \"2px solid #FFF\",\n      outline: \"1px solid #000\",\n      top: 0,\n      left: 0\n    });\n    let legend = document.querySelectorAll(imageSelector);\n    for(let x = 0; x < legend.length; x++) {\n      if (param) {\n        const newImages = imgURLArray.filter(element => element.class === param);\n        const newImagesArrayLength = newImages ? newImages.length : -1;\n        legend[x].dataset.pays = newImages[x % newImagesArrayLength].class;\n        legend[x].children[0].innerHTML = newImages[x % newImagesArrayLength].titre;\n      } else {\n        legend[x].dataset.pays = imgURLArray[x % imgURLArrayLength].class;\n        legend[x].children[0].innerHTML = imgURLArray[x % imgURLArrayLength].titre;\n      }\n    }\n\n    gsap.set(rowSelector, {\n      position: \"absolute\"\n    });\n  }\n\n  imgEffect(elem) {\n    gsap.to(imageSelector, {\n      duration: 1,\n      filter: \"grayscale(90%) invert(15%)\"\n    });\n\n    gsap.to(\"[data-pays='\" + elem + \"']\", {\n      filter: \"none\",\n      overwrite: true\n    });\n  }\n\n  imgEffectLeave() {\n    gsap.to(imageSelector, {\n      duration: 1,\n      filter: \"none\",\n      overwrite: true\n    });\n  }\n\n  createDraggable() {\n    let options = {\n      trigger: \".mask\",\n      dragResistance: 0.4,\n      resistance: 400,\n      onDrag: this.updateCenterElem,\n      onClick: e => {\n        const clicked = document.elementsFromPoint(e.pageX, e.pageY);\n\n        clicked.forEach(elem => {\n          if(elem.matches(\".sliderImage\")) {\n            console.log(\"to\", elem)\n          }\n        });\n      },\n    }\n\n    if(useInertia) {\n      options.inertia = true;\n      options.onThrowUpdate = this.updateCenterElem;\n\n      if(useCenterGrid) {\n        options.onThrowComplete = this.centerGrid;\n      }\n    } else if(useCenterGrid) {\n      options.onDragEnd = this.centerGrid;\n    }\n    document.querySelector(\".mask\").addEventListener(\"mousemove\", (e) => {\n      const hover = document.elementsFromPoint(e.pageX, e.pageY);\n\n      hover.forEach(elem => {\n        let titreVoyage = document.querySelector(\"#titreVoyage\");\n        let titreIntro = document.querySelector(\"#titreIntro\");\n        if(elem.matches(\".sliderImage\")) {\n          document.querySelector(\".mask\").style.cursor = \"pointer\";\n\n          titreVoyage.innerHTML = \"Notre visite Ã  \" + elem.innerText;\n          titreIntro.classList.add(\"hidden\");\n          titreVoyage.classList.remove(\"hidden\");\n        } \n      });\n    }, {once : false});\n    return Draggable.create(containerSelector, options);\n  }\n\n  render() {\n    const dragInfo = {\n      position: 'absolute', \n      bottom: '20%',\n    };\n    return (\n      <React.Fragment>\n      {\n        this.state.show? \n        <aside className=\"navAside\">\n        <div className=\"contentAside\" style={{transform: \"translate3d(0px, 0%, 0px)\"}}>\n        <div>\n        <div className=\"delete\">\n        <div>\n        <svg className=\"\" viewBox=\"0 0 12 12\" onClick={() => {this.setState({show:!this.state.show})}}>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" fill=\"black\" d=\"M10.6666 11.9988L11.9999 10.6655L7.33363 5.99922L11.9998 1.33307L10.6665 -0.000240447L6.00032 4.66591L1.33343 -0.000976562L0.000117558 1.33233L4.66701 5.99922L0 10.6662L1.33331 11.9995L6.00032 7.33253L10.6666 11.9988Z\">\n        </path>\n        </svg>\n        </div>\n        </div>\n        <nav>\n        <ul>\n        <li className=\"listAside\">\n        <a data-title=\"all\" style={{opacity: \"1\"}} onClick={() => {this.onFilterChange(\"*\"); this.setState({show:!this.state.show})}}>\n        <div>le monde\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"Irlande\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"Irlande\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"Irlande\"); this.setState({show:!this.state.show})}}>\n        <div>Irlande\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"Allemagne\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"Allemagne\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"Allemagne\"); this.setState({show:!this.state.show})}}>\n        <div>Allemagne\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"Chine\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"Chine\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"Chine\"); this.setState({show:!this.state.show})}}>\n        <div>Chine\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"Canada\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"Canada\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"Canada\"); this.setState({show:!this.state.show})}}>\n        <div>Canada\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"USA\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"USA\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"USA\"); this.setState({show:!this.state.show})}}>\n        <div>USA\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"Japon\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"Japon\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"Japon\"); this.setState({show:!this.state.show})}}>\n        <div>Japon\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"CorÃ©e du Sud\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"CorÃ©e du Sud\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"CorÃ©e du Sud\"); this.setState({show:!this.state.show})}}>\n        <div>CorÃ©e du Sud\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"Royaume Unis\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"Royaume Unis\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"Royaume Unis\"); this.setState({show:!this.state.show})}}>\n        <div>Royaume Unis\n        </div>\n        </a>\n        </li>\n        <li className=\"listAside\">\n        <a data-title=\"Italie\" style={{opacity: \"1\"}} onMouseOver={() => this.imgEffect(\"Italie\")} onMouseOut={() => this.imgEffectLeave()} onClick={() => {this.onFilterChange(\"Italie\"); this.setState({show:!this.state.show})}}>\n        <div>Italie\n        </div>\n        </a>\n        </li>\n        </ul>\n        </nav>\n        </div>\n        </div>\n        </aside> : null\n      }\n      <nav className=\"navFiltre\">\n      <a href=\"/nous\">\n      <span style={{transitionDelay: \"0.5s\"}}>Nous</span>\n      </a>\n      <span style={{transitionDelay: \"0.6s\"}}> </span>\n      <span style={{transitionDelay: \"0.65s\"}}>a</span>\n      <span style={{transitionDelay: \"0.7s\"}}>v</span>\n      <span style={{transitionDelay: \"0.75s\"}}>o</span>\n      <span style={{transitionDelay: \"0.8s\"}}>n</span>\n      <span style={{transitionDelay: \"0.85s\"}}>s</span>\n      <span style={{transitionDelay: \"0.9s\"}}> </span>\n      <span style={{transitionDelay: \"0.95s\"}}>v</span>\n      <span style={{transitionDelay: \"1s\"}}>o</span>\n      <span style={{transitionDelay: \"1.05s\"}}>y</span>\n      <span style={{transitionDelay: \"1.1s\"}}>a</span>\n      <span style={{transitionDelay: \"1.15s\"}}>g</span>\n      <span style={{transitionDelay: \"1.2s\"}}>Ã©</span>\n      <span style={{transitionDelay: \"1.25s\"}}> </span>\n      <span style={{transitionDelay: \"1.3s\"}}>d</span>\n      <span style={{transitionDelay: \"1.35s\"}}>a</span>\n      <span style={{transitionDelay: \"1.35s\"}}>n</span>\n      <span style={{transitionDelay: \"1.35s\"}}>s</span>\n      <button onClick={() => {this.setState({show:!this.state.show})}}>\n      <div>\n      </div>\n      <span style={{transitionDelay: \"1.4s\"}}>l</span>\n      <span style={{transitionDelay: \"1.4s\"}}>e</span>\n      <span style={{transitionDelay: \"1.4s\"}}> </span>\n      <span style={{transitionDelay: \"1.4s\"}}>m</span>\n      <span style={{transitionDelay: \"1.45s\"}}>o</span>\n      <span style={{transitionDelay: \"1.5s\"}}>n</span>\n      <span style={{transitionDelay: \"1.55s\"}}>d</span>\n      <span style={{transitionDelay: \"1.6s\"}}>e</span>\n      </button>\n      </nav>\n      <div className=\"Container__wrapper Container__center\">\n      <div style={{zIndex: \"1\"}}>\n\n      <div className=\"Intro__wrapper\">\n      <h1 id=\"titreIntro\" className=\"Heading__wrapper styles__font-size-xl styles__font-family-serif-bold Intro__title\">Nos voyagesð</h1>\n      <h1 id=\"titreVoyage\" className=\"Heading__wrapper styles__font-size-xl styles__font-family-serif-bold hidden\"></h1>\n      <div className=\"Heading__wrapper styles__font-size-sm Intro__desc\">Retrouvez ici toutes les villes que nous avons visitÃ©.</div>\n      </div>\n\n      </div>\n      <div className=\"Container__wrapper Container__absolute Container__center\">\n      </div>\n      <div className=\"Container__wrapper Container__absolute Container__center\">\n      <div className=\"Heading__wrapper styles__font-size-xs\" style={dragInfo}>DRAG POUR EXPLORER</div>\n      <div id=\"imageContainer\" className=\"filter-container\">\n      </div>\n      </div>\n      </div>\n      </React.Fragment>\n      );\n}\n}\n\nexport default projectList;\n"]},"metadata":{},"sourceType":"module"}