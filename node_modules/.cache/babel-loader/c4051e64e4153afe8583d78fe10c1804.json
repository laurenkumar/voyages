{"ast":null,"code":"/*!\n * Draggabilly v2.3.0\n * Make that shiz draggable\n * https://draggabilly.desandro.com\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /* globals define */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['get-size/get-size', 'unidragger/unidragger'], function (getSize, Unidragger) {\n      return factory(window, getSize, Unidragger);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('get-size'), require('unidragger'));\n  } else {\n    // browser global\n    window.Draggabilly = factory(window, window.getSize, window.Unidragger);\n  }\n})(window, function factory(window, getSize, Unidragger) {\n  // -------------------------- helpers & variables -------------------------- //\n  // extend objects\n  function extend(a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  }\n\n  function noop() {}\n\n  var jQuery = window.jQuery; // --------------------------  -------------------------- //\n\n  function Draggabilly(element, options) {\n    // querySelector if string\n    this.element = typeof element == 'string' ? document.querySelector(element) : element;\n\n    if (jQuery) {\n      this.$element = jQuery(this.element);\n    } // options\n\n\n    this.options = extend({}, this.constructor.defaults);\n    this.option(options);\n\n    this._create();\n  } // inherit Unidragger methods\n\n\n  var proto = Draggabilly.prototype = Object.create(Unidragger.prototype);\n  Draggabilly.defaults = {};\n  /**\n   * set options\n   * @param {Object} opts\n   */\n\n  proto.option = function (opts) {\n    extend(this.options, opts);\n  }; // css position values that don't need to be set\n\n\n  var positionValues = {\n    relative: true,\n    absolute: true,\n    fixed: true\n  };\n\n  proto._create = function () {\n    // properties\n    this.position = {};\n\n    this._getPosition();\n\n    this.startPoint = {\n      x: 0,\n      y: 0\n    };\n    this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    this.startPosition = extend({}, this.position); // set relative positioning\n\n    var style = getComputedStyle(this.element);\n\n    if (!positionValues[style.position]) {\n      this.element.style.position = 'relative';\n    } // events, bridge jQuery events from vanilla\n\n\n    this.on('pointerMove', this.onPointerMove);\n    this.on('pointerUp', this.onPointerUp);\n    this.enable();\n    this.setHandles();\n  };\n  /**\n   * set this.handles and bind start events to 'em\n   */\n\n\n  proto.setHandles = function () {\n    this.handles = this.options.handle ? this.element.querySelectorAll(this.options.handle) : [this.element];\n    this.bindHandles();\n  };\n  /**\n   * emits events via EvEmitter and jQuery events\n   * @param {String} type - name of event\n   * @param {Event} event - original event\n   * @param {Array} args - extra arguments\n   */\n\n\n  proto.dispatchEvent = function (type, event, args) {\n    var emitArgs = [event].concat(args);\n    this.emitEvent(type, emitArgs);\n    this.dispatchJQueryEvent(type, event, args);\n  };\n\n  proto.dispatchJQueryEvent = function (type, event, args) {\n    var jquery = window.jQuery; // trigger jQuery event\n\n    if (!jquery || !this.$element) {\n      return;\n    } // create jQuery event\n\n    /* eslint-disable-next-line new-cap */\n\n\n    var $event = jquery.Event(event);\n    $event.type = type;\n    this.$element.trigger($event, args);\n  }; // -------------------------- position -------------------------- //\n  // get x/y position from style\n\n\n  proto._getPosition = function () {\n    var style = getComputedStyle(this.element);\n\n    var x = this._getPositionCoord(style.left, 'width');\n\n    var y = this._getPositionCoord(style.top, 'height'); // clean up 'auto' or other non-integer values\n\n\n    this.position.x = isNaN(x) ? 0 : x;\n    this.position.y = isNaN(y) ? 0 : y;\n\n    this._addTransformPosition(style);\n  };\n\n  proto._getPositionCoord = function (styleSide, measure) {\n    if (styleSide.indexOf('%') != -1) {\n      // convert percent into pixel for Safari, #75\n      var parentSize = getSize(this.element.parentNode); // prevent not-in-DOM element throwing bug, #131\n\n      return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n    }\n\n    return parseInt(styleSide, 10);\n  }; // add transform: translate( x, y ) to position\n\n\n  proto._addTransformPosition = function (style) {\n    var transform = style.transform; // bail out if value is 'none'\n\n    if (transform.indexOf('matrix') !== 0) {\n      return;\n    } // split matrix(1, 0, 0, 1, x, y)\n\n\n    var matrixValues = transform.split(','); // translate X value is in 12th or 4th position\n\n    var xIndex = transform.indexOf('matrix3d') === 0 ? 12 : 4;\n    var translateX = parseInt(matrixValues[xIndex], 10); // translate Y value is in 13th or 5th position\n\n    var translateY = parseInt(matrixValues[xIndex + 1], 10);\n    this.position.x += translateX;\n    this.position.y += translateY;\n  }; // -------------------------- events -------------------------- //\n\n\n  proto.onPointerDown = function (event, pointer) {\n    this.element.classList.add('is-pointer-down');\n    this.dispatchJQueryEvent('pointerDown', event, [pointer]);\n  };\n\n  proto.pointerDown = function (event, pointer) {\n    var isOkay = this.okayPointerDown(event);\n\n    if (!isOkay || !this.isEnabled) {\n      this._pointerReset();\n\n      return;\n    } // track start event position\n    // Safari 9 overrides pageX and pageY. These values needs to be copied. flickity#842\n\n\n    this.pointerDownPointer = {\n      pageX: pointer.pageX,\n      pageY: pointer.pageY\n    };\n    event.preventDefault();\n    this.pointerDownBlur(); // bind move and end events\n\n    this._bindPostStartEvents(event);\n\n    this.element.classList.add('is-pointer-down');\n    this.dispatchEvent('pointerDown', event, [pointer]);\n  };\n  /**\n   * drag start\n   * @param {Event} event\n   * @param {[Event, Touch]} pointer\n   */\n\n\n  proto.dragStart = function (event, pointer) {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this._getPosition();\n\n    this.measureContainment(); // position _when_ drag began\n\n    this.startPosition.x = this.position.x;\n    this.startPosition.y = this.position.y; // reset left/top style\n\n    this.setLeftTop();\n    this.dragPoint.x = 0;\n    this.dragPoint.y = 0;\n    this.element.classList.add('is-dragging');\n    this.dispatchEvent('dragStart', event, [pointer]); // start animation\n\n    this.animate();\n  };\n\n  proto.measureContainment = function () {\n    var container = this.getContainer();\n\n    if (!container) {\n      return;\n    }\n\n    var elemSize = getSize(this.element);\n    var containerSize = getSize(container);\n    var elemRect = this.element.getBoundingClientRect();\n    var containerRect = container.getBoundingClientRect();\n    var borderSizeX = containerSize.borderLeftWidth + containerSize.borderRightWidth;\n    var borderSizeY = containerSize.borderTopWidth + containerSize.borderBottomWidth;\n    var position = this.relativeStartPosition = {\n      x: elemRect.left - (containerRect.left + containerSize.borderLeftWidth),\n      y: elemRect.top - (containerRect.top + containerSize.borderTopWidth)\n    };\n    this.containSize = {\n      width: containerSize.width - borderSizeX - position.x - elemSize.width,\n      height: containerSize.height - borderSizeY - position.y - elemSize.height\n    };\n  };\n\n  proto.getContainer = function () {\n    var containment = this.options.containment;\n\n    if (!containment) {\n      return;\n    }\n\n    var isElement = containment instanceof HTMLElement; // use as element\n\n    if (isElement) {\n      return containment;\n    } // querySelector if string\n\n\n    if (typeof containment == 'string') {\n      return document.querySelector(containment);\n    } // fallback to parent element\n\n\n    return this.element.parentNode;\n  }; // ----- move event ----- //\n\n\n  proto.onPointerMove = function (event, pointer, moveVector) {\n    this.dispatchJQueryEvent('pointerMove', event, [pointer, moveVector]);\n  };\n  /**\n   * drag move\n   * @param {Event} event\n   * @param {[Event, Touch]} pointer\n   * @param {Object} moveVector - x and y coordinates\n   */\n\n\n  proto.dragMove = function (event, pointer, moveVector) {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    var dragX = moveVector.x;\n    var dragY = moveVector.y;\n    var grid = this.options.grid;\n    var gridX = grid && grid[0];\n    var gridY = grid && grid[1];\n    dragX = applyGrid(dragX, gridX);\n    dragY = applyGrid(dragY, gridY);\n    dragX = this.containDrag('x', dragX, gridX);\n    dragY = this.containDrag('y', dragY, gridY); // constrain to axis\n\n    dragX = this.options.axis == 'y' ? 0 : dragX;\n    dragY = this.options.axis == 'x' ? 0 : dragY;\n    this.position.x = this.startPosition.x + dragX;\n    this.position.y = this.startPosition.y + dragY; // set dragPoint properties\n\n    this.dragPoint.x = dragX;\n    this.dragPoint.y = dragY;\n    this.dispatchEvent('dragMove', event, [pointer, moveVector]);\n  };\n\n  function applyGrid(value, grid, method) {\n    method = method || 'round';\n    return grid ? Math[method](value / grid) * grid : value;\n  }\n\n  proto.containDrag = function (axis, drag, grid) {\n    if (!this.options.containment) {\n      return drag;\n    }\n\n    var measure = axis == 'x' ? 'width' : 'height';\n    var rel = this.relativeStartPosition[axis];\n    var min = applyGrid(-rel, grid, 'ceil');\n    var max = this.containSize[measure];\n    max = applyGrid(max, grid, 'floor');\n    return Math.max(min, Math.min(max, drag));\n  }; // ----- end event ----- //\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {[Event, Touch]} pointer\n   */\n\n\n  proto.onPointerUp = function (event, pointer) {\n    this.element.classList.remove('is-pointer-down');\n    this.dispatchJQueryEvent('pointerUp', event, [pointer]);\n  };\n  /**\n   * drag end\n   * @param {Event} event\n   * @param {[Event, Touch]} pointer\n   */\n\n\n  proto.dragEnd = function (event, pointer) {\n    if (!this.isEnabled) {\n      return;\n    } // use top left position when complete\n\n\n    this.element.style.transform = '';\n    this.setLeftTop();\n    this.element.classList.remove('is-dragging');\n    this.dispatchEvent('dragEnd', event, [pointer]);\n  }; // -------------------------- animation -------------------------- //\n\n\n  proto.animate = function () {\n    // only render and animate if dragging\n    if (!this.isDragging) {\n      return;\n    }\n\n    this.positionDrag();\n\n    var _this = this;\n\n    requestAnimationFrame(function animateFrame() {\n      _this.animate();\n    });\n  }; // left/top positioning\n\n\n  proto.setLeftTop = function () {\n    this.element.style.left = this.position.x + 'px';\n    this.element.style.top = this.position.y + 'px';\n  };\n\n  proto.positionDrag = function () {\n    this.element.style.transform = 'translate3d( ' + this.dragPoint.x + 'px, ' + this.dragPoint.y + 'px, 0)';\n  }; // ----- staticClick ----- //\n\n\n  proto.staticClick = function (event, pointer) {\n    this.dispatchEvent('staticClick', event, [pointer]);\n  }; // ----- methods ----- //\n\n  /**\n   * @param {Number} x\n   * @param {Number} y\n   */\n\n\n  proto.setPosition = function (x, y) {\n    this.position.x = x;\n    this.position.y = y;\n    this.setLeftTop();\n  };\n\n  proto.enable = function () {\n    this.isEnabled = true;\n  };\n\n  proto.disable = function () {\n    this.isEnabled = false;\n\n    if (this.isDragging) {\n      this.dragEnd();\n    }\n  };\n\n  proto.destroy = function () {\n    this.disable(); // reset styles\n\n    this.element.style.transform = '';\n    this.element.style.left = '';\n    this.element.style.top = '';\n    this.element.style.position = ''; // unbind handles\n\n    this.unbindHandles(); // remove jQuery data\n\n    if (this.$element) {\n      this.$element.removeData('draggabilly');\n    }\n  }; // ----- jQuery bridget ----- //\n  // required for jQuery bridget\n\n\n  proto._init = noop;\n\n  if (jQuery && jQuery.bridget) {\n    jQuery.bridget('draggabilly', Draggabilly);\n  } // -----  ----- //\n\n\n  return Draggabilly;\n});","map":{"version":3,"sources":["/Users/uthaya/ourjourneys/node_modules/draggabilly/draggabilly.js"],"names":["window","factory","define","amd","getSize","Unidragger","module","exports","require","Draggabilly","extend","a","b","prop","noop","jQuery","element","options","document","querySelector","$element","constructor","defaults","option","_create","proto","prototype","Object","create","opts","positionValues","relative","absolute","fixed","position","_getPosition","startPoint","x","y","dragPoint","startPosition","style","getComputedStyle","on","onPointerMove","onPointerUp","enable","setHandles","handles","handle","querySelectorAll","bindHandles","dispatchEvent","type","event","args","emitArgs","concat","emitEvent","dispatchJQueryEvent","jquery","$event","Event","trigger","_getPositionCoord","left","top","isNaN","_addTransformPosition","styleSide","measure","indexOf","parentSize","parentNode","parseFloat","parseInt","transform","matrixValues","split","xIndex","translateX","translateY","onPointerDown","pointer","classList","add","pointerDown","isOkay","okayPointerDown","isEnabled","_pointerReset","pointerDownPointer","pageX","pageY","preventDefault","pointerDownBlur","_bindPostStartEvents","dragStart","measureContainment","setLeftTop","animate","container","getContainer","elemSize","containerSize","elemRect","getBoundingClientRect","containerRect","borderSizeX","borderLeftWidth","borderRightWidth","borderSizeY","borderTopWidth","borderBottomWidth","relativeStartPosition","containSize","width","height","containment","isElement","HTMLElement","moveVector","dragMove","dragX","dragY","grid","gridX","gridY","applyGrid","containDrag","axis","value","method","Math","drag","rel","min","max","remove","dragEnd","isDragging","positionDrag","_this","requestAnimationFrame","animateFrame","staticClick","setPosition","disable","destroy","unbindHandles","removeData","_init","bridget"],"mappings":"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","sourcesContent":["/*!\n * Draggabilly v2.3.0\n * Make that shiz draggable\n * https://draggabilly.desandro.com\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'get-size/get-size',\n      'unidragger/unidragger',\n    ],\n    function( getSize, Unidragger ) {\n        return factory( window, getSize, Unidragger );\n      } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('get-size'),\n        require('unidragger')\n    );\n  } else {\n    // browser global\n    window.Draggabilly = factory(\n        window,\n        window.getSize,\n        window.Unidragger\n    );\n  }\n\n}( window, function factory( window, getSize, Unidragger ) {\n\n// -------------------------- helpers & variables -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nfunction noop() {}\n\nvar jQuery = window.jQuery;\n\n// --------------------------  -------------------------- //\n\nfunction Draggabilly( element, options ) {\n  // querySelector if string\n  this.element = typeof element == 'string' ?\n    document.querySelector( element ) : element;\n\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  this._create();\n}\n\n// inherit Unidragger methods\nvar proto = Draggabilly.prototype = Object.create( Unidragger.prototype );\n\nDraggabilly.defaults = {\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  extend( this.options, opts );\n};\n\n// css position values that don't need to be set\nvar positionValues = {\n  relative: true,\n  absolute: true,\n  fixed: true,\n};\n\nproto._create = function() {\n  // properties\n  this.position = {};\n  this._getPosition();\n\n  this.startPoint = { x: 0, y: 0 };\n  this.dragPoint = { x: 0, y: 0 };\n\n  this.startPosition = extend( {}, this.position );\n\n  // set relative positioning\n  var style = getComputedStyle( this.element );\n  if ( !positionValues[ style.position ] ) {\n    this.element.style.position = 'relative';\n  }\n\n  // events, bridge jQuery events from vanilla\n  this.on( 'pointerMove', this.onPointerMove );\n  this.on( 'pointerUp', this.onPointerUp );\n\n  this.enable();\n  this.setHandles();\n};\n\n/**\n * set this.handles and bind start events to 'em\n */\nproto.setHandles = function() {\n  this.handles = this.options.handle ?\n    this.element.querySelectorAll( this.options.handle ) : [ this.element ];\n\n  this.bindHandles();\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = [ event ].concat( args );\n  this.emitEvent( type, emitArgs );\n  this.dispatchJQueryEvent( type, event, args );\n};\n\nproto.dispatchJQueryEvent = function( type, event, args ) {\n  var jquery = window.jQuery;\n  // trigger jQuery event\n  if ( !jquery || !this.$element ) {\n    return;\n  }\n  // create jQuery event\n  /* eslint-disable-next-line new-cap */\n  var $event = jquery.Event( event );\n  $event.type = type;\n  this.$element.trigger( $event, args );\n};\n\n// -------------------------- position -------------------------- //\n\n// get x/y position from style\nproto._getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var x = this._getPositionCoord( style.left, 'width' );\n  var y = this._getPositionCoord( style.top, 'height' );\n  // clean up 'auto' or other non-integer values\n  this.position.x = isNaN( x ) ? 0 : x;\n  this.position.y = isNaN( y ) ? 0 : y;\n\n  this._addTransformPosition( style );\n};\n\nproto._getPositionCoord = function( styleSide, measure ) {\n  if ( styleSide.indexOf('%') != -1 ) {\n    // convert percent into pixel for Safari, #75\n    var parentSize = getSize( this.element.parentNode );\n    // prevent not-in-DOM element throwing bug, #131\n    return !parentSize ? 0 :\n      ( parseFloat( styleSide ) / 100 ) * parentSize[ measure ];\n  }\n  return parseInt( styleSide, 10 );\n};\n\n// add transform: translate( x, y ) to position\nproto._addTransformPosition = function( style ) {\n  var transform = style.transform;\n  // bail out if value is 'none'\n  if ( transform.indexOf('matrix') !== 0 ) {\n    return;\n  }\n  // split matrix(1, 0, 0, 1, x, y)\n  var matrixValues = transform.split(',');\n  // translate X value is in 12th or 4th position\n  var xIndex = transform.indexOf('matrix3d') === 0 ? 12 : 4;\n  var translateX = parseInt( matrixValues[ xIndex ], 10 );\n  // translate Y value is in 13th or 5th position\n  var translateY = parseInt( matrixValues[ xIndex + 1 ], 10 );\n  this.position.x += translateX;\n  this.position.y += translateY;\n};\n\n// -------------------------- events -------------------------- //\n\nproto.onPointerDown = function( event, pointer ) {\n  this.element.classList.add('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerDown', event, [ pointer ] );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay || !this.isEnabled ) {\n    this._pointerReset();\n    return;\n  }\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. flickity#842\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.element.classList.add('is-pointer-down');\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\n/**\n * drag start\n * @param {Event} event\n * @param {[Event, Touch]} pointer\n */\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this._getPosition();\n  this.measureContainment();\n  // position _when_ drag began\n  this.startPosition.x = this.position.x;\n  this.startPosition.y = this.position.y;\n  // reset left/top style\n  this.setLeftTop();\n\n  this.dragPoint.x = 0;\n  this.dragPoint.y = 0;\n\n  this.element.classList.add('is-dragging');\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n  // start animation\n  this.animate();\n};\n\nproto.measureContainment = function() {\n  var container = this.getContainer();\n  if ( !container ) {\n    return;\n  }\n\n  var elemSize = getSize( this.element );\n  var containerSize = getSize( container );\n  var elemRect = this.element.getBoundingClientRect();\n  var containerRect = container.getBoundingClientRect();\n\n  var borderSizeX = containerSize.borderLeftWidth + containerSize.borderRightWidth;\n  var borderSizeY = containerSize.borderTopWidth + containerSize.borderBottomWidth;\n\n  var position = this.relativeStartPosition = {\n    x: elemRect.left - ( containerRect.left + containerSize.borderLeftWidth ),\n    y: elemRect.top - ( containerRect.top + containerSize.borderTopWidth ),\n  };\n\n  this.containSize = {\n    width: ( containerSize.width - borderSizeX ) - position.x - elemSize.width,\n    height: ( containerSize.height - borderSizeY ) - position.y - elemSize.height,\n  };\n};\n\nproto.getContainer = function() {\n  var containment = this.options.containment;\n  if ( !containment ) {\n    return;\n  }\n  var isElement = containment instanceof HTMLElement;\n  // use as element\n  if ( isElement ) {\n    return containment;\n  }\n  // querySelector if string\n  if ( typeof containment == 'string' ) {\n    return document.querySelector( containment );\n  }\n  // fallback to parent element\n  return this.element.parentNode;\n};\n\n// ----- move event ----- //\n\nproto.onPointerMove = function( event, pointer, moveVector ) {\n  this.dispatchJQueryEvent( 'pointerMove', event, [ pointer, moveVector ] );\n};\n\n/**\n * drag move\n * @param {Event} event\n * @param {[Event, Touch]} pointer\n * @param {Object} moveVector - x and y coordinates\n */\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  var dragX = moveVector.x;\n  var dragY = moveVector.y;\n\n  var grid = this.options.grid;\n  var gridX = grid && grid[0];\n  var gridY = grid && grid[1];\n\n  dragX = applyGrid( dragX, gridX );\n  dragY = applyGrid( dragY, gridY );\n\n  dragX = this.containDrag( 'x', dragX, gridX );\n  dragY = this.containDrag( 'y', dragY, gridY );\n\n  // constrain to axis\n  dragX = this.options.axis == 'y' ? 0 : dragX;\n  dragY = this.options.axis == 'x' ? 0 : dragY;\n\n  this.position.x = this.startPosition.x + dragX;\n  this.position.y = this.startPosition.y + dragY;\n  // set dragPoint properties\n  this.dragPoint.x = dragX;\n  this.dragPoint.y = dragY;\n\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nfunction applyGrid( value, grid, method ) {\n  method = method || 'round';\n  return grid ? Math[ method ]( value/grid ) * grid : value;\n}\n\nproto.containDrag = function( axis, drag, grid ) {\n  if ( !this.options.containment ) {\n    return drag;\n  }\n  var measure = axis == 'x' ? 'width' : 'height';\n\n  var rel = this.relativeStartPosition[ axis ];\n  var min = applyGrid( -rel, grid, 'ceil' );\n  var max = this.containSize[ measure ];\n  max = applyGrid( max, grid, 'floor' );\n  return Math.max( min, Math.min( max, drag ) );\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {[Event, Touch]} pointer\n */\nproto.onPointerUp = function( event, pointer ) {\n  this.element.classList.remove('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerUp', event, [ pointer ] );\n};\n\n/**\n * drag end\n * @param {Event} event\n * @param {[Event, Touch]} pointer\n */\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  // use top left position when complete\n  this.element.style.transform = '';\n  this.setLeftTop();\n  this.element.classList.remove('is-dragging');\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\n// -------------------------- animation -------------------------- //\n\nproto.animate = function() {\n  // only render and animate if dragging\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.positionDrag();\n\n  var _this = this;\n  requestAnimationFrame( function animateFrame() {\n    _this.animate();\n  } );\n\n};\n\n// left/top positioning\nproto.setLeftTop = function() {\n  this.element.style.left = this.position.x + 'px';\n  this.element.style.top = this.position.y + 'px';\n};\n\nproto.positionDrag = function() {\n  this.element.style.transform = 'translate3d( ' + this.dragPoint.x +\n    'px, ' + this.dragPoint.y + 'px, 0)';\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  this.dispatchEvent( 'staticClick', event, [ pointer ] );\n};\n\n// ----- methods ----- //\n\n/**\n * @param {Number} x\n * @param {Number} y\n */\nproto.setPosition = function( x, y ) {\n  this.position.x = x;\n  this.position.y = y;\n  this.setLeftTop();\n};\n\nproto.enable = function() {\n  this.isEnabled = true;\n};\n\nproto.disable = function() {\n  this.isEnabled = false;\n  if ( this.isDragging ) {\n    this.dragEnd();\n  }\n};\n\nproto.destroy = function() {\n  this.disable();\n  // reset styles\n  this.element.style.transform = '';\n  this.element.style.left = '';\n  this.element.style.top = '';\n  this.element.style.position = '';\n  // unbind handles\n  this.unbindHandles();\n  // remove jQuery data\n  if ( this.$element ) {\n    this.$element.removeData('draggabilly');\n  }\n};\n\n// ----- jQuery bridget ----- //\n\n// required for jQuery bridget\nproto._init = noop;\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'draggabilly', Draggabilly );\n}\n\n// -----  ----- //\n\nreturn Draggabilly;\n\n} ) );\n"]},"metadata":{},"sourceType":"script"}