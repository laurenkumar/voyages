{"ast":null,"code":"var _jsxFileName = \"/Users/uthaya/ourjourneys/src/components/Index/Index.js\";\nimport React, { Component, useState } from \"react\";\nimport { TweenLite, gsap } from \"gsap\";\nimport { Curtains } from 'curtainsjs';\nimport Draggabilly from 'draggabilly';\nimport image3 from \"./image-3.jpg\";\nimport image5 from \"./tokyo.jpg\";\nimport image6 from \"./berlin.jpg\";\nimport image8 from \"./seoul.jpg\";\nimport image12 from \"./guilin.jpg\";\nimport image13 from \"./toronto.jpg\";\nimport image14 from \"./sanfrancisco.jpg\";\nimport image1 from \"./image-1.jpg\";\nimport image2 from \"./image-2.jpg\";\nimport \"./Index.scss\";\n\nclass Index extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    const webGLCurtain = new Curtains(\"canvas\");\n    const planeContainer = document.querySelector(\".planes\");\n    const planeElements = planeContainer.querySelectorAll(\".plane\");\n    const draggableHidden = planeContainer.querySelector(\".draggable-hidden\");\n    const draggableVisible = planeContainer.querySelector(\".draggable-visible\");\n    const sliderNamesContainer = planeContainer.querySelector(\".slider-names-container\");\n    const sliderNames = planeContainer.querySelector(\".slider-names\");\n    const names = planeContainer.querySelectorAll(\".slider__name\");\n    const items = planeContainer.querySelectorAll(\".item\");\n    const draggie = new Draggabilly(draggableHidden, {\n      axis: \"x\"\n    });\n    sliderNamesContainer.style.height = names[0].getBoundingClientRect().height + \"px\";\n    const width = window.innerWidth;\n    let mouse = {\n      initPosX: 0,\n      finalPosX: 0,\n      currentPosX: 0,\n      previousPosX: 0,\n      minPosX: 0,\n      maxPosX: width - draggableHidden.getBoundingClientRect().width,\n      isMouseDown: false\n    };\n    let sliderNamesProps = {\n      containerHeight: sliderNamesContainer.getBoundingClientRect().height - sliderNames.getBoundingClientRect().height\n    };\n    let start = performance.now();\n    let acceleration = 0;\n    let lastAcceleration = 0;\n    let posNames = 0;\n    let lastPosNames = 0;\n    let amplitude = 0.1;\n    let lastMouse = 0;\n    let easing = 0.05;\n    let cancelAnimation = true;\n    let isOut = false;\n    const planes = [];\n    const MathUtils = {\n      lerp: (a, b, n) => (1 - n) * a + n * b,\n      map_range: (value, low1, high1, low2, high2) => {\n        return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n      }\n    }; // Create canvas\n\n    const createCanvas = () => {\n      const shader = {\n        vertex: `    \n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    \n    #define PI 3.14159265359\n    \n    // those are the mandatory attributes that the lib sets\n    attribute vec3 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    // those are mandatory uniforms that the lib sets and that contain our model view and projection matrix\n    uniform mat4 uMVMatrix;\n    uniform mat4 uPMatrix;\n\n    uniform mat4 planeTextureMatrix;\n\n    // if you want to pass your vertex and texture coords to the fragment shader\n    varying vec3 vVertexPosition;\n    varying vec2 vTextureCoord;\n\n    varying float vDirection;\n\n    uniform float uDirection;\n\n    void main() {\n        vec3 position = aVertexPosition;\n\n        float x = sin((position.y * 0.5 - 0.5) * PI) * uDirection;\n\n        position.x -= x;\n        \n        gl_Position = uPMatrix * uMVMatrix * vec4(position, 1.0);\n\n        // set the varyings\n        vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0., 1.)).xy;\n        vVertexPosition = position;\n\n        vDirection = uDirection;\n    }`,\n        fragment: `\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n\n    #define PI2 6.28318530718\n    #define PI 3.14159265359\n    #define S(a,b,n) smoothstep(a,b,n)\n    \n    // get our varyings\n    varying vec3 vVertexPosition;\n    varying vec2 vTextureCoord;\n\n    // the uniform we declared inside our javascript\n    uniform float uTime;\n\n    // our texture sampler (default name, to use a different name please refer to the documentation)\n    uniform sampler2D planeTexture;\n    \n    varying float vDirection;\n\n    void main(){\n        vec2 uv = vTextureCoord;\n\n        float x = uv.y * PI2/.5 + uTime * 3.; \n        float y = uv.x * PI2/.5 + uTime * 3.;\n\n        float distX = cos(x+y) * .01 * cos(y);\n        float distY = sin(x-y) * .01 * cos(y);\n\n        vec2 distPosition = vec2(distX, distY);\n\n        float scale = -abs(vDirection) * 0.8;\n\n        uv = (uv - 0.5) * scale + uv;\n\n        float r = texture2D(planeTexture, vec2(uv.x - vDirection * 0.1, uv.y)).r;\n        float g = texture2D(planeTexture, vec2(uv.x - vDirection * 0.4, uv.y)).g;\n        float b = texture2D(planeTexture, vec2(uv.x - vDirection * 0.4, uv.y)).b;\n        \n        gl_FragColor = vec4(r, g, b, 1.0);  \n    }\n    `\n      };\n      const params = {\n        vertexShader: shader.vertex,\n        // our vertex shader ID\n        fragmentShader: shader.fragment,\n        // our framgent shader ID\n        widthSegments: 40,\n        heightSegments: 40,\n        // we now have 40*40*6 = 9600 vertices !\n        uniforms: {\n          time: {\n            name: \"uTime\",\n            type: \"1f\",\n            value: 0\n          },\n          direction: {\n            name: \"uDirection\",\n            type: \"1f\",\n            value: 0\n          }\n        }\n      };\n      webGLCurtain.disableDrawing(); // create our plane mesh\n\n      for (let i = 0; i < planeElements.length; i++) {\n        const plane = webGLCurtain.addPlane(planeElements[i], params);\n        startPlane(items[i], plane);\n      }\n\n      initEvents();\n      requestAnimationFrame(onUpdate);\n    };\n\n    const startPlane = (planeElement, plane) => {\n      plane.onLoading(() => {\n        plane.mouseOver = false;\n        planeElement.addEventListener(\"mouseenter\", () => {\n          plane.mouseOver = true;\n          webGLCurtain.enableDrawing();\n        });\n        planeElement.addEventListener(\"mouseleave\", () => {\n          plane.mouseOver = false;\n        });\n        webGLCurtain.needRender();\n      }).onRender(() => {\n        //plane.uniforms.time.value = plane.mouseOver ? plane.uniforms.time.value + 1 : 0\n        plane.uniforms.direction.value = lastAcceleration;\n        plane.updatePosition();\n      }).onLeaveView(() => {//console.log(\"leaving view\", plane.index);\n      }).onReEnterView(() => {//console.log(\"entering view\", plane.index);\n      });\n    };\n\n    const onUpdate = () => {\n      if (!cancelAnimation) {\n        const lerp = MathUtils.lerp;\n        const now = performance.now();\n        const acceleration = (mouse.currentPosX - lastMouse) / (now - start) * amplitude;\n        lastAcceleration = lerp(lastAcceleration, acceleration, easing);\n        start = now;\n        lastMouse = mouse.currentPosX;\n        mouse.previousPosX = lerp(mouse.previousPosX, mouse.currentPosX, easing);\n        draggableVisible.style.transform = `translate3d(${mouse.previousPosX}px, 0, 0)`;\n        posNames = draggie.position.x / mouse.maxPosX * sliderNamesProps.containerHeight;\n        lastPosNames = lerp(lastPosNames, posNames, easing);\n        console.log(posNames, lastPosNames, mouse.maxPosX);\n        sliderNames.style.transform = `translate3d(0,${lastPosNames}px,0)`;\n\n        if (Math.round(mouse.previousPosX) === mouse.currentPosX) {\n          webGLCurtain.disableDrawing();\n          cancelAnimation = true;\n        }\n      }\n\n      requestAnimationFrame(onUpdate);\n    }; // Drag element\n\n\n    const onDragMove = () => {\n      cancelAnimation = false;\n      webGLCurtain.enableDrawing(); // Si esta en el limite se trasladara la mitad del ancho del viewport\n\n      if (draggie.position.x > mouse.minPosX) {\n        mouse.currentPosX = MathUtils.map_range(draggie.position.x, 0, window.innerWidth, 0, window.innerWidth / 3);\n      } else if (draggie.position.x < mouse.maxPosX) {\n        mouse.currentPosX = MathUtils.map_range(draggie.position.x, mouse.maxPosX, mouse.maxPosX - window.innerWidth, mouse.maxPosX, mouse.maxPosX - window.innerWidth / 3);\n      } else {\n        mouse.currentPosX = draggie.position.x;\n        easing = 0.05;\n      }\n\n      amplitude = 0.1;\n    };\n\n    const onDragStart = e => {\n      planeContainer.style.cursor = \"grabbing\"; // Aplica el curso con icono de agarrando;\n    };\n\n    const onDragEnd = () => {\n      planeContainer.style.cursor = \"grab\"; // Aplica el curso con icono de agarrar\n      // Si esta en el limite volvera a su posicion inicial o final\n\n      if (draggie.position.x > mouse.minPosX) {\n        mouse.currentPosX = 0;\n        draggie.setPosition(mouse.currentPosX, draggie.position.y);\n        amplitude = 0;\n        easing = 0.07;\n      } else if (draggie.position.x < mouse.maxPosX) {\n        mouse.currentPosX = mouse.maxPosX;\n        draggie.setPosition(mouse.currentPosX, draggie.position.y);\n        amplitude = 0;\n        easing = 0.07;\n      } else {\n        draggie.setPosition(mouse.currentPosX, draggie.position.y);\n      }\n    }; // Al reescalar calcula denuevo la posicion maxima\n\n\n    const onResize = () => {\n      sliderNamesContainer.style.height = names[0].getBoundingClientRect().height + \"px\";\n      mouse.maxPosX = window.innerWidth - draggableHidden.getBoundingClientRect().width;\n      sliderNamesProps = {\n        containerHeight: sliderNamesContainer.getBoundingClientRect().height - sliderNames.getBoundingClientRect().height\n      };\n    };\n\n    const initEvents = () => {\n      draggie.on(\"dragMove\", () => {\n        if (isOut) return;\n        onDragMove();\n      });\n      draggie.on(\"pointerDown\", () => {\n        isOut = false;\n        onDragStart();\n      });\n      draggie.on(\"pointerUp\", onDragEnd);\n      planeContainer.addEventListener(\"mouseleave\", () => {\n        isOut = true;\n        onDragEnd();\n      });\n      window.addEventListener(\"resize\", onResize);\n    };\n\n    window.addEventListener(\"load\", createCanvas);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"wrap-texture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"canvas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"planes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"draggable-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"slider-names-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"slider-names\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, \"Italie\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, \"Allemagne\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"Japon\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"Cor\\xE9e du Sud\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, \"Irlande\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, \"Chine\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, \"Royaume Unis\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, \"USA\"), React.createElement(\"div\", {\n      class: \"slider__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, \"Canada\"))), React.createElement(\"div\", {\n      class: \"draggable-hidden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"draggable-visible\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image6,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image5,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image8,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image1,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image12,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image2,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image14,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      \"data-sampler\": \"planeTexture\",\n      class: \"texture\",\n      src: image13,\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/uthaya/ourjourneys/src/components/Index/Index.js"],"names":["React","Component","useState","TweenLite","gsap","Curtains","Draggabilly","image3","image5","image6","image8","image12","image13","image14","image1","image2","Index","constructor","props","componentDidMount","webGLCurtain","planeContainer","document","querySelector","planeElements","querySelectorAll","draggableHidden","draggableVisible","sliderNamesContainer","sliderNames","names","items","draggie","axis","style","height","getBoundingClientRect","width","window","innerWidth","mouse","initPosX","finalPosX","currentPosX","previousPosX","minPosX","maxPosX","isMouseDown","sliderNamesProps","containerHeight","start","performance","now","acceleration","lastAcceleration","posNames","lastPosNames","amplitude","lastMouse","easing","cancelAnimation","isOut","planes","MathUtils","lerp","a","b","n","map_range","value","low1","high1","low2","high2","createCanvas","shader","vertex","fragment","params","vertexShader","fragmentShader","widthSegments","heightSegments","uniforms","time","name","type","direction","disableDrawing","i","length","plane","addPlane","startPlane","initEvents","requestAnimationFrame","onUpdate","planeElement","onLoading","mouseOver","addEventListener","enableDrawing","needRender","onRender","updatePosition","onLeaveView","onReEnterView","transform","position","x","console","log","Math","round","onDragMove","onDragStart","e","cursor","onDragEnd","setPosition","y","onResize","on","render"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport { TweenLite, gsap } from \"gsap\";\nimport {Curtains} from 'curtainsjs';\nimport Draggabilly from 'draggabilly';\nimport image3 from \"./image-3.jpg\";\nimport image5 from \"./tokyo.jpg\";\nimport image6 from \"./berlin.jpg\";\nimport image8 from \"./seoul.jpg\";\nimport image12 from \"./guilin.jpg\";\nimport image13 from \"./toronto.jpg\";\nimport image14 from \"./sanfrancisco.jpg\";\nimport image1 from \"./image-1.jpg\";\nimport image2 from \"./image-2.jpg\";\n\nimport \"./Index.scss\";\n\nclass Index extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n  \tconst webGLCurtain = new Curtains(\"canvas\");\n\nconst planeContainer = document.querySelector(\".planes\");\nconst planeElements = planeContainer.querySelectorAll(\".plane\");\nconst draggableHidden = planeContainer.querySelector(\".draggable-hidden\");\nconst draggableVisible = planeContainer.querySelector(\".draggable-visible\");\nconst sliderNamesContainer = planeContainer.querySelector(\n  \".slider-names-container\"\n);\nconst sliderNames = planeContainer.querySelector(\".slider-names\");\nconst names = planeContainer.querySelectorAll(\".slider__name\");\nconst items = planeContainer.querySelectorAll(\".item\");\nconst draggie = new Draggabilly(draggableHidden, { axis: \"x\" });\n\nsliderNamesContainer.style.height = names[0].getBoundingClientRect().height + \"px\"\n\nconst width = window.innerWidth;\n\nlet mouse = {\n  initPosX: 0,\n  finalPosX: 0,\n  currentPosX: 0,\n  previousPosX: 0,\n  minPosX: 0,\n  maxPosX: width - draggableHidden.getBoundingClientRect().width,\n  isMouseDown: false\n};\n\nlet sliderNamesProps = {\n  containerHeight:\n    sliderNamesContainer.getBoundingClientRect().height -\n    sliderNames.getBoundingClientRect().height \n};\n\nlet start = performance.now();\nlet acceleration = 0;\nlet lastAcceleration = 0;\nlet posNames = 0;\nlet lastPosNames = 0;\nlet amplitude = 0.1;\nlet lastMouse = 0;\nlet easing = 0.05;\nlet cancelAnimation = true;\nlet isOut = false;\n\nconst planes = [];\n\nconst MathUtils = {\n  lerp: (a, b, n) => (1 - n) * a + n * b,\n  map_range: (value, low1, high1, low2, high2) => {\n    return low2 + ((high2 - low2) * (value - low1)) / (high1 - low1);\n  }\n};\n\n// Create canvas\nconst createCanvas = () => {\n  const shader = {\n    vertex: `    \n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    \n    #define PI 3.14159265359\n    \n    // those are the mandatory attributes that the lib sets\n    attribute vec3 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    // those are mandatory uniforms that the lib sets and that contain our model view and projection matrix\n    uniform mat4 uMVMatrix;\n    uniform mat4 uPMatrix;\n\n    uniform mat4 planeTextureMatrix;\n\n    // if you want to pass your vertex and texture coords to the fragment shader\n    varying vec3 vVertexPosition;\n    varying vec2 vTextureCoord;\n\n    varying float vDirection;\n\n    uniform float uDirection;\n\n    void main() {\n        vec3 position = aVertexPosition;\n\n        float x = sin((position.y * 0.5 - 0.5) * PI) * uDirection;\n\n        position.x -= x;\n        \n        gl_Position = uPMatrix * uMVMatrix * vec4(position, 1.0);\n\n        // set the varyings\n        vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0., 1.)).xy;\n        vVertexPosition = position;\n\n        vDirection = uDirection;\n    }`,\n    fragment: `\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n\n    #define PI2 6.28318530718\n    #define PI 3.14159265359\n    #define S(a,b,n) smoothstep(a,b,n)\n    \n    // get our varyings\n    varying vec3 vVertexPosition;\n    varying vec2 vTextureCoord;\n\n    // the uniform we declared inside our javascript\n    uniform float uTime;\n\n    // our texture sampler (default name, to use a different name please refer to the documentation)\n    uniform sampler2D planeTexture;\n    \n    varying float vDirection;\n\n    void main(){\n        vec2 uv = vTextureCoord;\n\n        float x = uv.y * PI2/.5 + uTime * 3.; \n        float y = uv.x * PI2/.5 + uTime * 3.;\n\n        float distX = cos(x+y) * .01 * cos(y);\n        float distY = sin(x-y) * .01 * cos(y);\n\n        vec2 distPosition = vec2(distX, distY);\n\n        float scale = -abs(vDirection) * 0.8;\n\n        uv = (uv - 0.5) * scale + uv;\n\n        float r = texture2D(planeTexture, vec2(uv.x - vDirection * 0.1, uv.y)).r;\n        float g = texture2D(planeTexture, vec2(uv.x - vDirection * 0.4, uv.y)).g;\n        float b = texture2D(planeTexture, vec2(uv.x - vDirection * 0.4, uv.y)).b;\n        \n        gl_FragColor = vec4(r, g, b, 1.0);  \n    }\n    `\n  };\n\n  const params = {\n    vertexShader: shader.vertex, // our vertex shader ID\n    fragmentShader: shader.fragment, // our framgent shader ID\n    widthSegments: 40,\n    heightSegments: 40, // we now have 40*40*6 = 9600 vertices !\n    uniforms: {\n      time: {\n        name: \"uTime\",\n        type: \"1f\",\n        value: 0\n      },\n      direction: {\n        name: \"uDirection\",\n        type: \"1f\",\n        value: 0\n      }\n    }\n  };\n\n  webGLCurtain.disableDrawing();\n\n  // create our plane mesh\n\n  for (let i = 0; i < planeElements.length; i++) {\n    const plane = webGLCurtain.addPlane(planeElements[i], params);\n    startPlane(items[i], plane);\n  }\n\n  initEvents();\n  requestAnimationFrame(onUpdate);\n};\n\nconst startPlane = (planeElement, plane) => {\n  plane\n    .onLoading(() => {\n      plane.mouseOver = false;\n\n      planeElement.addEventListener(\"mouseenter\", () => {\n        plane.mouseOver = true;\n        webGLCurtain.enableDrawing();\n      });\n\n      planeElement.addEventListener(\"mouseleave\", () => {\n        plane.mouseOver = false;\n      });\n\n      webGLCurtain.needRender();\n    })\n    .onRender(() => {\n      //plane.uniforms.time.value = plane.mouseOver ? plane.uniforms.time.value + 1 : 0\n      plane.uniforms.direction.value = lastAcceleration;\n\n      plane.updatePosition();\n    })\n    .onLeaveView(() => {\n      //console.log(\"leaving view\", plane.index);\n    })\n    .onReEnterView(() => {\n      //console.log(\"entering view\", plane.index);\n    });\n};\n\nconst onUpdate = () => {\n  if (!cancelAnimation) {\n    const { lerp } = MathUtils;\n    const now = performance.now();\n\n    const acceleration =\n      ((mouse.currentPosX - lastMouse) / (now - start)) * amplitude;\n\n    lastAcceleration = lerp(lastAcceleration, acceleration, easing);\n\n    start = now;\n    lastMouse = mouse.currentPosX;\n\n    mouse.previousPosX = lerp(mouse.previousPosX, mouse.currentPosX, easing);\n\n    draggableVisible.style.transform = `translate3d(${mouse.previousPosX}px, 0, 0)`;\n\n    posNames =\n      (draggie.position.x / mouse.maxPosX) * sliderNamesProps.containerHeight;\n\n    lastPosNames = lerp(lastPosNames, posNames, easing);\n    \n    console.log(posNames,lastPosNames, mouse.maxPosX)\n\n    sliderNames.style.transform = `translate3d(0,${lastPosNames}px,0)`;\n\n    if (Math.round(mouse.previousPosX) === mouse.currentPosX) {\n      webGLCurtain.disableDrawing();\n      cancelAnimation = true;\n    }\n  }\n\n  requestAnimationFrame(onUpdate);\n};\n\n// Drag element\nconst onDragMove = () => {\n  cancelAnimation = false;\n  webGLCurtain.enableDrawing();\n\n  // Si esta en el limite se trasladara la mitad del ancho del viewport\n  if (draggie.position.x > mouse.minPosX) {\n    mouse.currentPosX = MathUtils.map_range(\n      draggie.position.x,\n      0,\n      window.innerWidth,\n      0,\n      window.innerWidth / 3\n    );\n  } else if (draggie.position.x < mouse.maxPosX) {\n    mouse.currentPosX = MathUtils.map_range(\n      draggie.position.x,\n      mouse.maxPosX,\n      mouse.maxPosX - window.innerWidth,\n      mouse.maxPosX,\n      mouse.maxPosX - window.innerWidth / 3\n    );\n  } else {\n    mouse.currentPosX = draggie.position.x;\n\n    easing = 0.05;\n  }\n\n  amplitude = 0.1;\n};\n\nconst onDragStart = (e) => {\n  planeContainer.style.cursor = \"grabbing\"; // Aplica el curso con icono de agarrando;\n};\n\nconst onDragEnd = () => {\n  planeContainer.style.cursor = \"grab\"; // Aplica el curso con icono de agarrar\n\n  // Si esta en el limite volvera a su posicion inicial o final\n  if (draggie.position.x > mouse.minPosX) {\n    mouse.currentPosX = 0;\n    draggie.setPosition(mouse.currentPosX, draggie.position.y);\n    amplitude = 0;\n    easing = 0.07;\n  } else if (draggie.position.x < mouse.maxPosX) {\n    mouse.currentPosX = mouse.maxPosX;\n    draggie.setPosition(mouse.currentPosX, draggie.position.y);\n    amplitude = 0;\n    easing = 0.07;\n  } else {\n    draggie.setPosition(mouse.currentPosX, draggie.position.y);\n  }\n};\n\n// Al reescalar calcula denuevo la posicion maxima\nconst onResize = () => {\n  sliderNamesContainer.style.height = names[0].getBoundingClientRect().height + \"px\"\n  \n  mouse.maxPosX =\n    window.innerWidth - draggableHidden.getBoundingClientRect().width;\n\n  sliderNamesProps = {\n    containerHeight:\n      sliderNamesContainer.getBoundingClientRect().height -\n      sliderNames.getBoundingClientRect().height\n  };\n};\n\nconst initEvents = () => {\n  draggie.on(\"dragMove\", () => {\n    if (isOut) return;\n    onDragMove();\n  });\n  draggie.on(\"pointerDown\", () => {\n    isOut = false;\n    onDragStart();\n  });\n  draggie.on(\"pointerUp\", onDragEnd);\n\n  planeContainer.addEventListener(\"mouseleave\", () => {\n    isOut = true;\n    onDragEnd();\n  });\n \n  window.addEventListener(\"resize\", onResize);\n};\n\nwindow.addEventListener(\"load\", createCanvas);\n\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n      \t<div id=\"wrap-texture\">\n\n  <div id=\"canvas\"></div>\n  <div class=\"planes\">\n    <div class=\"draggable-container\">\n      \n      <div class=\"slider-names-container\">\n        <div class=\"slider-names\">\n          <div class=\"slider__name\">Italie</div>\n          <div class=\"slider__name\">Allemagne</div>\n          <div class=\"slider__name\">Japon</div>\n          <div class=\"slider__name\">Corée du Sud</div>\n          <div class=\"slider__name\">Irlande</div>\n          <div class=\"slider__name\">Chine</div>\n          <div class=\"slider__name\">Royaume Unis</div>\n          <div class=\"slider__name\">USA</div>\n          <div class=\"slider__name\">Canada</div>\n        </div>\n      </div>\n      \n      <div class=\"draggable-hidden\">\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n        <div class=\"item\"></div>\n      </div>\n      \n      <div class=\"draggable-visible\">\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image3} /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image6} crossorigin=\"anonymous\" /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image5} crossorigin=\"anonymous\" /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image8} crossorigin=\"anonymous\" /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image1} crossorigin=\"anonymous\" /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image12} crossorigin=\"anonymous\" /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image2} crossorigin=\"anonymous\" /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image14} crossorigin=\"anonymous\" /></div>\n        <div class=\"plane\"><img data-sampler=\"planeTexture\" class=\"texture\" src={image13} crossorigin=\"anonymous\" /></div>\n      </div>\n    </div>\n  </div>\n</div>\n      </React.Fragment>\n      );\n}\n}\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}